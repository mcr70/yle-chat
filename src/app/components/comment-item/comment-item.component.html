<div [ngClass]="{'top-comment-item': level === 0, 'child-comment-item': level > 0}">
    
    <div class="comment-box" [ngClass]="{'special-comment-box': isSpecialComment()}">
        <div class="comment-header"> 
            <div>
                <strong>{{ comment.author }}</strong> 
                <span class="author-date"> {{ formatDate(comment.createdAt) }}</span>
                <span *ngIf="isSpecialComment()" class="star-icon" title="Erikoiskommentti">
                    â­ 
                </span>
            </div>
            
            <span class="likes">ğŸ‘ {{ comment.likes }}</span>
        </div>
        
        <p class="comment-text">{{ comment.content }}</p>
        
        <button 
            *ngIf="comment.children && comment.children.length > 0"
            (click)="toggleReplies()"
            class="toggle-button">
            {{ comment.isExpanded ? 'Piilota vastaukset â–²' : 'NÃ¤ytÃ¤ ' + comment.children.length + ' vastausta â–¼' }}
        </button>
    </div>
    
    <ng-container *ngIf="comment.isExpanded">
      <div class="replies-wrapper">
        <app-comment-item 
            *ngFor="let child of comment.children"
            [comment]="child"
            [level]="level + 1">
        </app-comment-item>
      </div>  
    </ng-container>

</div>